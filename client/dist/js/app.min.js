!function(t){"function"==typeof define&&define.amd?define("app",t):t()}((function(){"use strict";function t(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,a=new Array(n);e<n;e++)a[e]=t[e];return a}function n(n,e){var a="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!a){if(Array.isArray(n)||(a=function(n,e){if(n){if("string"==typeof n)return t(n,e);var a=Object.prototype.toString.call(n).slice(8,-1);return"Object"===a&&n.constructor&&(a=n.constructor.name),"Map"===a||"Set"===a?Array.from(n):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){a&&(n=a);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){a=a.call(n)},n:function(){var t=a.next();return s=t.done,t},e:function(t){c=!0,o=t},f:function(){try{s||null==a.return||a.return()}finally{if(c)throw o}}}}var e=function(t,n,e){var a=n;if(e.containerSelector&&!(a=n.closest(e.containerSelector)))throw"No containerElement for selector "+e.containerSelector;e.value.includes(t.value)?a.classList.remove("signal-hidden"):a.classList.add("signal-hidden")},a=function(t,n){if(!n.id)return console.warning("srcElement must have an id attributes"),!1;var e=[];t.dataset.knownSignals?e=JSON.parse(t.dataset.knownSignals):t.dataset.knownSignals="",function(t,n){if(!t.dataset.knownSignals)return!1;var e=JSON.parse(t.dataset.knownSignals);try{return e.find((function(t){return t.id==n.id}))}catch(t){return console.warn("isBound failed",t),!1}}(t,n)||(e.push({id:n.id}),t.dataset.knownSignals=JSON.stringify(e),t.addEventListener("change",(function(t){r(this)})))},r=function(t){try{var a=[];if(t.dataset.knownSignals&&(a=JSON.parse(t.dataset.knownSignals)),0==a.length)return;var r,i=n(a);try{var o=function(){var n=r.value,a=document.getElementById(n.id);a?JSON.parse(a.dataset.signals).forEach((function(n){e(t,a,n)})):console.warn("srcElement from entry.id does not exist:"+n.id)};for(i.s();!(r=i.n()).done;)o()}catch(t){i.e(t)}finally{i.f()}}catch(t){console.warn(t)}},i=function(t){try{JSON.parse(t.dataset.signals).forEach((function(n){o(t,n)}))}catch(t){console.warn(t)}},o=function(t,n){if(!t.id)return console.warn("srcElement must have an ID attribute value"),!1;var r=t.closest("form");if(r){var i=r.querySelector('[name="'+n.triggerElement+'"]');i?(e(i,t,n),a(i,t)):console.warn("triggerElement not found: "+n.triggerElement)}else console.warn("Elements outside of forms are not yet supported")};new MutationObserver((function(t,e){var a,o=n(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;switch(s.type){case"attributes":if("data-signals"==s.attributeName||"data-init-signal"==s.attributeName)i(s.target);else if("class"==s.attributeName){var c=s.target.classList.contains("changed"),l=s.oldValue&&s.oldValue.split(" ").includes("changed");(c||l)&&"SELECT"==s.target.nodeName&&r(s.target)}else console.warn("Unhandled attribute: "+s.attributeName);break;case"childList":var u,d=n(s.addedNodes);try{for(d.s();!(u=d.n()).done;){var f=u.value;try{f.dataset&&f.dataset.signals&&i(s.target)}catch(t){console.warn(t)}}}catch(t){d.e(t)}finally{d.f()}break;default:console.warn("documentObserver unhandled mutation type: "+s.type)}}}catch(t){o.e(t)}finally{o.f()}})).observe(document,{attributes:!0,attributeOldValue:!0,attributeFilter:["class","data-signals"],subtree:!0,childList:!1});var s=function(){document.querySelectorAll("[data-signals]").forEach((function(t){var n=t.dataset.signals;t.dataset.signals=n}))};window.document.addEventListener("DOMContentLoaded",(function(){s()})),void 0!==window.jQuery&&window.jQuery.fn.entwine&&window.jQuery.entwine("ss",(function(t){t(".cms-edit-form").entwine({onmatch:function(){s()}}),t(".inlinelinkcomposite").entwine({onmatch:function(){s()}})}))}));
//# sourceMappingURL=app.js.map
